---
layout: default
title: 固件更新
nav_order: 9
toc: true          # 启用目录
toc_min_header: 2  # 最小显示标题层级（如 H2）
toc_max_header: 3  # 最大显示标题层级（如 H3）
---

# 固件更新

* TOC
{:toc}

## 正式版本

正式版本是 Fourier-GRX-N1 SDK 的新版本发布信息，包含发布日期、版本号、资源链接和更新内容。

| 发布日期       | 版本号    | 资源链接                                                                                         | 更新内容                                   | 技术支持 |
|------------|--------|----------------------------------------------------------------------------------------------|----------------------------------------|------|
| 2025-10-30 | 4.1.21 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-4.1.21.deb) | [详情](/fourier-grx-N1/docs/update#4121) | ✅    |
| 2025-10-01 | 4.1.11 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-4.1.11.deb) | [详情](/fourier-grx-N1/docs/update#4111) | ❌    |
| 2025-05-19 | 2.3.24 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-2.3.24.deb) | [详情](/fourier-grx-N1/docs/update#2324) | ❌    |
| 2025-05-15 | 2.3.22 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-2.3.22.deb) | [详情](/fourier-grx-N1/docs/update#2322) | ❌    |
| 2025-04-30 | 2.3.19 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-2.3.19.deb) | [详情](/fourier-grx-N1/docs/update#2319) | ❌    |
| 2025-03-26 | 2.3.2  | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-2.3.2.deb)  | [详情](/fourier-grx-N1/docs/update#232)  | ❌    |
| 2025-03-24 | 2.3.1  | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-2.3.1.deb)  | [详情](/fourier-grx-N1/docs/update#231)  | ❌    |

## 预览版本

预览版本是指尚未正式发布的版本，可能包含新功能或修复，但不保证稳定性。请谨慎使用。如果使用中发现问题，请在 [GitHub Issues](https://github.com/FFTAI/Wiki-GRx-Deploy/issues) 提交反馈。

| 发布日期       | 版本号   | 资源链接                                                                                        | 更新内容                                  | 技术支持 |
|------------|-------|---------------------------------------------------------------------------------------------|---------------------------------------|------|
| 2025-12-16 | 4.2.2 | [下载](https://fourier-grx-1302548221.cos.ap-shanghai.myqcloud.com/grx/fourier-grx-4.2.2.deb) | [详情](/fourier-grx-N1/docs/update#422) | ✅    |

## 安装方法

固件安装流程请参考 [固件安装和更新](/fourier-grx-N1/docs/usage#固件安装和更新)。

## 更新内容

### 4.2.2

新增：

- 新增在 Developer 接口中调用内置外设状态监控任务的示例代码，位于 `developer_radian/demo_print_peripheral.py`。
- 新增在 Developer 接口中调用内置进入准备姿态任务的示例代码，位于 `developer_radian/demo_ready_builtin.py`。
- 新增在 Developer 接口中调用内置行走任务的示例代码，位于 `developer_radian/demo_walk_builtin.py`。
- 新增优化后的行走策略任务，位于 `developer_radian/demo_walk_refined.py`。

优化：

- 允许接口获取外设（手柄和键盘）的数据状态，方便开发者进行二次开发。
- 允许接口调用内置复杂算法任务，方便开发者进行二次开发。

已知问题，待将来修复：

- 在部分 ARM 平台运行 `fourier-grx` 时，zenoh 可能会出现通信不稳定的问题，导致程序出现短时间的阻塞卡顿现象，影响机器人运动的流畅性。建议在 x86 平台运行 `fourier-grx` 以获得更好的性能表现。
    - 此问题来自 zenoh 底层库在 ARM 平台的适配问题，傅利叶智能团队已向 zenoh 团队反馈该问题，期待未来版本能解决该问题。

### 4.1.21

新增：

- 新增 N1 机器人爬起动作（TID `3551`，如果机器人报错导致摔倒，会自动清除错误信息）

优化：

- 升级 `eclipse-zenoh` 版本从 `1.0.1` 到最新版 `1.6.2`，提升通信稳定性和性能，并修复旧版本中的通信问题。
- 优化部分 config 模板文件内容，修正了一些不合理的配置选项。

修复：

- 修复 N1 模仿学习任务中途重新启动时，机器人抽动的问题。
- 修复 N1 模仿学习任务在某些情况下索引越界的问题。
- 修复通信数据包解析中存在的 bug，提升通信稳定性。

### 4.1.11

新增：

- 新增 N1 添加深蹲动作算法、后爬起动作、行走时搬箱子夹臂动作算法
- 新增 SDK 控制 component 层级任务的接口； SDK 添加了更多虚拟外设的支持（虚拟键盘、虚拟鼠标、虚拟控制面板等）
- 新增 更稳定的 N1 快速奔跑任务实现方案（任务名为带 RUNRUNRUN 的任务 ID）
- 新增 电机错误提示报警信息
- 新增 record 加入 IMU 的信息记录功能
- 新增 快速奔跑算法策略（最快 3.5m/s）
- 新增 带方向修正的快速奔跑算法策略（最快 3.5m/s）
- 新增 快速奔跑带手部动作（火影跑）
- 新增 N1 爬起快捷键（Y 按键双击），算法会自动判断到底是使用前爬起，还是后爬起，并调用执行。
    - 在站立 / 行走时，误触发该爬起算法，不会执行，仍然会维持原走路算法，确保了安全性。
    - 在爬起过程中，如果本身应该为前爬起，结果使用了后爬起，则会自动停止运动。需要先按 Logo 快捷键，执行失能任务后，再次调用爬起算法，会自动切换到前爬起动作。
- 新增 前趴下 和 后躺下 两个功能任务，具体描述参见：
    - https://fftai.github.io/fourier-grx-N1/docs/tasks/lie_down_forward.html
    - https://fftai.github.io/fourier-grx-N1/docs/tasks/lie_down_backward.html
- 新增 带航向修正的变步频快跑的算法 中，对于航向角的控制，可以通过左右 Hat 键位进行微调，每次点击，微调 10°
- 新增 config_N1__developer.yaml 配置文件，针对开发者使用 Wiki-GRx-Deploy 时使用。

优化：

- 优化 N1 蹲下动作切换时容易倒的问题（缩短了切换过程的过渡时间）。
- 优化 Robot 基础类的基础任务的实现方式，优化 TASK_IDLE 的任务的数值，可能有利于避免程序误触发 TASK_IDLE 的问题（不一定，需要测试看效果）。
- 优化 log 打印时间的精度，目前调整为打印到毫秒，方便日志记录更精确。
- 优化 手柄按钮触发任务方式，由原先单击触发修改为双击触发（涉及按键：X, Y, A, B, logo, L2, R2）
- 优化 任务管理机制，任务进出会调用 on_start 和 on_stop 方法
- 优化 log 打印信息
- 优化 record 数据打印信息
- 优化 fourier-grx / fourier-core 的架构分工设计
- 优化 N1 的行走算法，现在迈腿是对称迈腿，不再是只从左腿启动踏步。站立时也更稳定。
- 优化 N1 行走算法，上一版本的行走算法走快了会容易 hip roll 左右甩腿，姿态不够美观
- 优化 N1 前爬起、后爬起动作切换时的抽动问题（仍然会有，但是减弱一些）
- 优化 IMU 的读取算法，降低数据传送的带宽需求
- 优化 打包过程方式和命名方式
- 优化 record 记录添加 imu 信息记录
- 优化 算法执行在程序代码层面添加了任务是否可切换的判定条件检测逻辑，但是该方法暂时只适用于爬起动作，后续将逐渐加入到其他任务中，提高机器人任务切换的安全性。
- 优化 执行行走算法任务时，如果机器人本身是躺倒或者是趴着的状态，会自动停止任务的执行，提高安全性。
- 优化 打包流程，将关联的 QP 求解器自动打包进发布包中，确保程序无依赖问题。
- 优化 快跑（变步频）的算法对于航向角的指令的变化率的滤波，降低滤波效果，提升响应敏感度。
- 优化 安装过程中配置项的提示信息，新增了服务器模式，用于开发者使用 PubSub 接口进行开发。

修改：

- 修改 N1 SDK 现在的开发接口输入输出修正为使用弧度，而不是角度进行输入输出，导致 demo code 的兼容性存在问题，需要提供符合接口单位的新的 demo code --> Wiki-GRx-Deploy 仓库
- 修改 config 文件的配置设定方法，参考 XXX_debug.yaml 配置文件内容

修复：

- 修复 IMU 通信适配中存在的 bug，适配了多款 IMU，已知该问题可能导致 N1 第一次启动程序时，导致行走/跑步任务乱踢腿。
- 修复 N1 了爬起动作，需要先触发 SERVO_ON 使能任务后，才能启动爬起功能。
- 修复 原先手柄断开连接后，重连后必须重启程序的问题。目前可以重新插拔手柄可以程序继续运行，无需重启。部分情况下，重插手柄 usb 需要输入 root 用户密码进行设备文件的授权。机器人常见的 root 密码为 fftai2015
- 修复 爬起动作在初始时无法自动使能的问题。
- 修复 record, resource, zenoh config 的路径设置报错问题。
- 修复 通信数据丢包后，导致的 PVC, PVCT, error code 数据顺序混乱的问题。
- 修复 config 配置文件的一些存在问题的配置文件内容。
- 修复 Test Joint Task 的任务指令值 TID，目前与 Wiki-GRx-Deploy 匹配上。
- 修复 已知代码 bugs，优化代码架构

已知问题，待将来修复：

- 带航向修正的变步频快跑的算法，存在站立时可能踏步的问题。目前暂无较好的方法来修正，只能通过摇杆微调，让其停止踏步。其本质是目标航向角处于一个临界值，使得机器的 ang_vel_yaw 角速度指令刚好可以激活踏步指令。
- 在爬起过程中，如果机器已经使用有一段时间了，其关节零位或是摩擦力出现较大偏差时，爬起过程可能身体出现晃动或振动，但是基本还是能顺利完成爬起过程，对于功能实现影响不大。
- 部分情况下，启动 `fourier-grx` 时，会提示 `IMU: Error frame`，这是因为串口通信过程中，头若干帧数据丢失，导致 IMU 数据解析失败，可以忽略该警告信息。

### 2.3.24

1. 优化使能、失能任务，防止失能后再使能出现冲击动作

### 2.3.22

新增：

1. 新增 SDK 控制接口方法 reboot servo （重启执行器）

优化：

1. 优化 安装过程中的提示信息
2. 优化 SDK 开发中线程之间数据争抢导致的数据错误问题

修复：

1. 修复 机器人切换任务时，模块任务状态仍然保留的问题
2. 修复 N1 机器人从其他任务切换到模仿学习任务，启动时抽动问题
3. 修复 N1 机器人模仿学习下蹲动作开始和结束时站不稳的问题

### 2.3.19

新增：

1. 新增 fourier-grx setup_conda 自动配置开发环境
2. 新增 内置爬起运动算法
3. 新增 内置单脚站立运动算法

优化：

1. 优化 N1 机器人任务清单

修复：

1. 修复 已知问题

### 2.3.2

新增：

1. 新增 fourier-grx enable_service 配置开启程序自启动功能
2. 新增 fourier-grx disable_service 配置关闭程序自启动功能

优化：

1. 优化 打印 log 信息。
2. 优化 配置文件读取逻辑：配置文件错误，直接退出程序

### 2.3.1

1. N1 系列机器人的固件更新。
